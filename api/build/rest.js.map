{"version":3,"sources":["../source/rest.ts"],"names":["log","VERSION","process","env","rest","use","bodyParser","urlencoded","extended","json","userRouter","errorHandle","error","req","res","status","success","payload"],"mappings":"uZACMA,CAAAA,GAAG,CAAG,mBAAM,UAAN,C,CAKNC,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYF,O,CAItBG,IAAa,CAAG,sB,CAEtBA,IAAI,CAACC,GAAL,CAASC,oBAAWC,UAAX,CAAsB,CAAEC,QAAQ,GAAV,CAAtB,CAAT,C,CACAJ,IAAI,CAACC,GAAL,CAASC,oBAAWG,IAAX,EAAT,C,CAEAL,IAAI,CAACC,GAAL,CAAU,QAAOJ,OAAQ,EAAzB,CAA4BS,aAA5B,C,CAEO,KAAMC,CAAAA,WAAW,CAAG,MACzBC,CADyB,CAEzBC,CAFyB,CAGzBC,CAHyB,GAKtB,CACHd,GAAG,CAAE,OAAF,CAAUY,CAAV,CADA,CAEHE,CAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB,CAAEO,OAAO,GAAT,CAAkBC,OAAO,CAAE,CAAEL,KAAK,CAALA,CAAF,CAA3B,CAArB,CACD,CARM,C,gCAUPR,IAAI,CAACC,GAAL,CAASM,WAAT,C,cAEeP,I","sourcesContent":["import debug from 'debug'\r\nconst log = debug('api:rest')\r\n\r\nimport express, { Express } from 'express'\r\nimport bodyParser from 'body-parser'\r\n\r\nconst VERSION = process.env.VERSION\r\n\r\nimport userRouter from './service/user'\r\n\r\nconst rest: Express = express()\r\n\r\nrest.use(bodyParser.urlencoded({ extended: false }))\r\nrest.use(bodyParser.json())\r\n\r\nrest.use(`/api/${VERSION}`, userRouter)\r\n\r\nexport const errorHandle = async (\r\n  error: Error,\r\n  req: any,\r\n  res: any,\r\n  next: Function\r\n) => {\r\n  log(`error`, error)\r\n  res.status(500).json({ success: false, payload: { error } })\r\n}\r\n\r\nrest.use(errorHandle)\r\n\r\nexport default rest\r\n"],"file":"rest.js"}